import{S,i as C,s as q,O as L,e as P,b as v,P as O,E as d,h as i,k as h,q as f,l as u,m,r as k,p as U,D as r,a as j,c as D,C as W,n as I}from"../chunks/index.89fe83ba.js";function $(s){let e,t,a=s[2].message+"",n;return{c(){e=h("p"),t=f("ERROR: "),n=f(a),this.h()},l(o){e=u(o,"P",{style:!0});var l=m(e);t=k(l,"ERROR: "),n=k(l,a),l.forEach(i),this.h()},h(){U(e,"color","red")},m(o,l){v(o,e,l),r(e,t),r(e,n)},p:d,d(o){o&&i(e)}}}function x(s){let e,t,a=s[1].title+"",n,o,l,w=s[1].date.toLocaleDateString("en-RU")+"",g,b,p,y;return{c(){e=h("div"),t=h("h2"),n=f(a),o=j(),l=h("p"),g=f(w),b=j(),p=h("img"),this.h()},l(_){e=u(_,"DIV",{});var c=m(e);t=u(c,"H2",{});var R=m(t);n=k(R,a),R.forEach(i),o=D(c),l=u(c,"P",{});var E=m(l);g=k(E,w),E.forEach(i),b=D(c),p=u(c,"IMG",{src:!0,alt:!0}),c.forEach(i),this.h()},h(){W(p.src,y=s[1].img)||I(p,"src",y),I(p,"alt",s[1].alt)},m(_,c){v(_,e,c),r(e,t),r(t,n),r(e,o),r(e,l),r(l,g),r(e,b),r(e,p)},p:d,d(_){_&&i(e)}}}function G(s){let e,t;return{c(){e=h("p"),t=f("Waiting for joke ....")},l(a){e=u(a,"P",{});var n=m(e);t=k(n,"Waiting for joke ...."),n.forEach(i)},m(a,n){v(a,e,n),r(e,t)},p:d,d(a){a&&i(e)}}}function H(s){let e,t={ctx:s,current:null,token:null,hasCatch:!0,pending:G,then:x,catch:$,value:1,error:2};return L(s[0],t),{c(){e=P(),t.block.c()},l(a){e=P(),t.block.l(a)},m(a,n){v(a,e,n),t.block.m(a,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(a,[n]){s=a,O(t,s,n)},i:d,o:d,d(a){a&&i(e),t.block.d(a),t.token=null,t=null}}}const K="n.bobiev@innopolis.university";async function M(s){const t=await(await fetch("https://getxkcd.vercel.app/api/comic?"+new URLSearchParams({num:s}))).json();return{title:t.title,img:t.img,alt:t.alt,date:new Date(parseInt(t.year),parseInt(t.month),parseInt(t.day),0,0,0)}}function N(s){return[fetch("https://fwd.innopolis.app/api/hw2?"+new URLSearchParams({email:K})).then(t=>t.text()).then(M)]}class X extends S{constructor(e){super(),C(this,e,N,H,q,{})}}export{X as default};
